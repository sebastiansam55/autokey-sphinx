
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Get a Gmail URL from the ‘Open In New Window’ button &#8212; AutoKey 0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="get-a-gmail-url-from-the-open-in-new-window-button">
<h1>Get a Gmail URL from the ‘Open In New Window’ button<a class="headerlink" href="#get-a-gmail-url-from-the-open-in-new-window-button" title="Permalink to this headline">¶</a></h1>
<p>If you use the ‘preview pane’ view in Gmail, you will note that you
cannot then see the URLs of individual messages in the address bar. Yet
each message does indeed have an unique URL. To get the URL of a message
without having to switch to the standard view:</p>
<ul class="simple">
<li><p>click on the ‘Open In New Window’ button at the top right of the
message preview pane
(<a class="reference external" href="https://plus.google.com/+Gmail/posts/hvVnBaQMTfj">image</a>)</p></li>
<li><p>in the popup, click once in the address bar to select the URL</p></li>
<li><p>run the script below (I run it from the Autokey system tray menu)</p></li>
<li><p>the correct URL replace the popup’s URL in your clipboard</p></li>
</ul>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">url</span> <span class="o">=</span> <span class="n">clipboard</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">gmail_baseurl</span><span class="o">=</span><span class="s2">&quot;https://mail.google.com/mail/u/0/#inbox/&quot;</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?&lt;=th=)(\w+)(&amp;)&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="n">clipboard</span><span class="o">.</span><span class="n">fill_clipboard</span><span class="p">(</span><span class="n">gmail_baseurl</span> <span class="o">+</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="convert-text-case-to-lowercase-and-replace-spaces-with-hyphens">
<h1>Convert text case to lowercase and replace spaces with hyphens<a class="headerlink" href="#convert-text-case-to-lowercase-and-replace-spaces-with-hyphens" title="Permalink to this headline">¶</a></h1>
<p>This is useful for converting the name of a GitHub Issue into a string
that’s suitable for a Git branch, if you follow the style of
‘named-branch’ Git development.</p>
<p>For example:</p>
<blockquote>
<div><p>Unexpected Window title: FocusProxy</p>
</div></blockquote>
<p>is returned as</p>
<blockquote>
<div><p>unexpected-window-title:-focusproxy</p>
</div></blockquote>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">clipboard</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
<span class="n">clipboard</span><span class="o">.</span><span class="n">fill_clipboard</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="automatically-collect-and-paste-information-about-the-current-platform">
<h1>Automatically collect and paste information about the current platform<a class="headerlink" href="#automatically-collect-and-paste-information-about-the-current-platform" title="Permalink to this headline">¶</a></h1>
<p>Useful for making bug reports especially on web applications where the
platform and browser version may be relevant.</p>
<p>example:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Platform: Linux-4.13.0-37-generic-x86_64-with-LinuxMint-18.3-sylvia</div>
<div class="line">Browser: Google Chrome 65.0.3325.181</div>
<div class="line">Browser: Mozilla Firefox 59.0.1</div>
<div class="line">Date Tested :Wed 28 Mar 14:46:48 BST 2018</div>
</div>
</div></blockquote>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">platform</span>
<span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;Platform: &quot;</span> <span class="o">+</span> <span class="n">platform</span><span class="o">.</span><span class="n">platform</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;Browser: &quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s2">&quot;google-chrome --version&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;Browser: &quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s2">&quot;firefox --version&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;Date Tested :&quot;</span> <span class="o">+</span> <span class="n">system</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="insert-current-datetime-in-the-format-yyyy-mm-dd-hh-mm-ss">
<h1>Insert current DateTime in the format YYYY.MM.DD HH:MM:SS<a class="headerlink" href="#insert-current-datetime-in-the-format-yyyy-mm-dd-hh-mm-ss" title="Permalink to this headline">¶</a></h1>
<p>example: &gt; 2018.04.23 23:47:00</p>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y.%m.</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="insert-current-time-in-the-format-hh-mm-ss">
<h1>Insert current Time in the format HH:MM:SS<a class="headerlink" href="#insert-current-time-in-the-format-hh-mm-ss" title="Permalink to this headline">¶</a></h1>
<p>example: &gt; 23:47:00</p>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M:%S&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="insert-current-date-only-in-the-format-yyyy-mm-dd">
<h1>Insert current Date only in the format YYYY.MM.DD<a class="headerlink" href="#insert-current-date-only-in-the-format-yyyy-mm-dd" title="Permalink to this headline">¶</a></h1>
<p>example: &gt; 2018.04.23</p>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y.%m.</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="search-for-text-from-your-clipboard-in-your-browser">
<h1>Search for text from your clipboard in your Browser<a class="headerlink" href="#search-for-text-from-your-clipboard-in-your-browser" title="Permalink to this headline">¶</a></h1>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span>  <span class="nn">webbrowser</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;http://www.google.de/search?q=&quot;</span><span class="o">+</span><span class="n">clipboard</span><span class="o">.</span><span class="n">get_clipboard</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="open-a-certain-website">
<h1>open a certain website:<a class="headerlink" href="#open-a-certain-website" title="Permalink to this headline">¶</a></h1>
<p>script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">webbrowser</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">site</span> <span class="o">=</span> <span class="s2">&quot;youtube.com&quot;</span>
<span class="n">webbrowser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;google-chrome&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open_new_tab</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
<span class="c1"># webbrowser.get(&#39;firefox&#39;).open_new(site) # in case you want to open a new site in firefox</span>
<span class="c1"># webbrowser.get(&#39;firefox&#39;).open_new_tab(site)</span>
</pre></div>
</div>
</div>
<div class="section" id="unpack-all-zipped-files-from-the-download-folder-and-delete-the-zip-file-afterwards">
<h1>Unpack all zipped files from the Download folder and delete the zip file afterwards.<a class="headerlink" href="#unpack-all-zipped-files-from-the-download-folder-and-delete-the-zip-file-afterwards" title="Permalink to this headline">¶</a></h1>
<p>Author: <a class="reference external" href="https://github.com/kolibril13">kolibril13</a> script:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">zipfile</span><span class="o">,</span> <span class="nn">subprocess</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;Downloads&quot;</span>
<span class="n">dir_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>
<span class="n">extension</span> <span class="o">=</span> <span class="s2">&quot;.zip&quot;</span>
<span class="n">file_to_delete</span> <span class="o">=</span> <span class="s1">&#39;checklist.csv&#39;</span> <span class="c1"># assuming there is one file &quot;checklist.csv&quot; that one does not want to have in the unpacked folder.</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">dir_name</span><span class="p">)</span>  <span class="c1"># change directory from working dir to dir with files</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>  <span class="c1"># loop through items in dir</span>
    <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">extension</span><span class="p">):</span>  <span class="c1"># check for &quot;.zip&quot; extension</span>
        <span class="n">item_name</span><span class="o">=</span><span class="n">item</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>  <span class="c1"># get full path of files</span>
        <span class="n">zip_ref</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>  <span class="c1"># create zipfile object</span>
        <span class="n">zip_ref</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">dir_name</span> <span class="o">+</span> <span class="n">item_name</span><span class="p">)</span>  <span class="c1"># extract file to dir</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dir_name</span> <span class="o">+</span> <span class="n">item_name</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">file_to_delete</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dir_name</span> <span class="o">+</span> <span class="n">item_name</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">):</span>  <span class="c1"># deletes &#39;checklist.csv&#39;</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">dir_name</span> <span class="o">+</span> <span class="n">item_name</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">file_to_delete</span><span class="p">)</span>
        <span class="n">zip_ref</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># close file</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>  <span class="c1"># delete zipped file</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s1">&#39;xdg-open&#39;</span><span class="p">,</span> <span class="n">dir_name</span> <span class="o">+</span> <span class="n">item_name</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="reduce-image-qualities-in-a-certain-folder">
<h1>Reduce image qualities in a certain folder<a class="headerlink" href="#reduce-image-qualities-in-a-certain-folder" title="Permalink to this headline">¶</a></h1>
<p>Author: <a class="reference external" href="https://github.com/kolibril13">kolibril13</a> script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;.jpg&quot;</span>
<span class="n">input_path</span><span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;Downloads&quot;</span>
<span class="n">file_paths</span><span class="o">=</span> <span class="p">[</span><span class="n">subp</span> <span class="k">for</span> <span class="n">subp</span> <span class="ow">in</span> <span class="n">input_path</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">)</span> <span class="k">if</span>  <span class="n">suffix</span> <span class="o">==</span> <span class="n">subp</span><span class="o">.</span><span class="n">suffix</span><span class="p">]</span>
<span class="n">file_paths</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="n">output_path</span> <span class="o">=</span>  <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;Downloads/processed&quot;</span>
<span class="n">output_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="k">for</span> <span class="n">file_p</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
    <span class="nb">input</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_p</span><span class="p">)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>  <span class="n">output_path</span> <span class="o">/</span> <span class="n">file_p</span><span class="o">.</span><span class="n">name</span>  <span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;ffmpeg -i </span><span class="si">{</span><span class="nb">input</span><span class="si">}</span><span class="s2"> -q:v 10 </span><span class="si">{</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="make-a-screenshot-and-move-it-to-the-downloads-folder-in-case-that-a-name-is-given-otherwise-move-it-to-the-clipboard">
<h1>Make a screenshot and move it to the downloads folder in case that a name is given, otherwise move it to the clipboard.<a class="headerlink" href="#make-a-screenshot-and-move-it-to-the-downloads-folder-in-case-that-a-name-is-given-otherwise-move-it-to-the-clipboard" title="Permalink to this headline">¶</a></h1>
<p>Author: <a class="reference external" href="https://github.com/kolibril13">kolibril13</a> script:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># requires:</span>
<span class="c1"># * sudo apt-get install gnome-screenshot</span>
<span class="c1"># * sudo apt-get install xclip</span>


<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">working_directory</span> <span class="o">=</span> <span class="s2">&quot;~/Downloads/&quot;</span>

<span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;gnome-screenshot -a  -f &#39;/tmp/temp.png&#39; &quot;</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

<span class="n">name</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">input_dialog</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Screenshot name:&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>

<span class="n">from_path</span> <span class="o">=</span> <span class="s1">&#39;/tmp/temp.png&#39;</span>
<span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;xclip -selection clipboard -t image/png -i /tmp/temp.png&quot;</span><span class="p">)</span>

<span class="k">else</span><span class="p">:</span>
    <span class="n">to_path</span> <span class="o">=</span> <span class="n">working_directory</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>
    <span class="n">command2</span> <span class="o">=</span> <span class="s2">&quot;mv &quot;</span> <span class="o">+</span> <span class="n">from_path</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">to_path</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">command2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ping-or-tracepath-mojang-minecraft-services-servers">
<h1>Ping or TracePath Mojang Minecraft Services Servers<a class="headerlink" href="#ping-or-tracepath-mojang-minecraft-services-servers" title="Permalink to this headline">¶</a></h1>
<p>Author: <a class="reference external" href="https://kreezcraft.com">Kreezxil</a></p>
<p>While this could’ve been done easier in a shell script I thought it
would be fun to do it in Autokey. The script contains an array of Mojang
servers that can cause issues for players if they are down. There is an
action array too so you can see how to easily add more actions.</p>
<p>Each time you trigger it the script will have you choose which server
you would like to perform an action on, it defaults to all. Then it will
ask you what action you would like to perform on what you just chose in
the server section, this will default to <code class="docutils literal notranslate"><span class="pre">ping</span> <span class="pre">-c</span> <span class="pre">1</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">autokey.common</span> <span class="kn">import</span> <span class="n">USING_QT</span>

<span class="n">mjservers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="s2">&quot;default&quot;</span><span class="p">])</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;minecraft.net&quot;</span><span class="p">])</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;account.mojang.com&quot;</span><span class="p">])</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;authserver.mojang.com&quot;</span><span class="p">])</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;sessionserver.mojang.com&quot;</span><span class="p">])</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;skins.minecraft.net&quot;</span><span class="p">])</span>
<span class="n">mjservers</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;textures.minecraft.net&quot;</span><span class="p">])</span>

<span class="n">mjactions</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">mjactions</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;ping -c 1&quot;</span><span class="p">,</span><span class="s2">&quot;default&quot;</span><span class="p">])</span>
<span class="n">mjactions</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;ping -c 10&quot;</span><span class="p">])</span>
<span class="n">mjactions</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s2">&quot;tracepath&quot;</span><span class="p">])</span>

<span class="n">menuBuilder</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">defEntry</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">menuEntry</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mjservers</span><span class="p">:</span>
  <span class="n">entry</span><span class="o">=</span><span class="n">menuEntry</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
  <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">defEntry</span><span class="o">=</span><span class="n">entry</span>
  <span class="n">menuBuilder</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

<span class="c1"># We use the boolean check to see which toolkit we&#39;re using</span>
<span class="c1"># the different toolkits receive extra parameters differently</span>
<span class="k">if</span> <span class="n">USING_QT</span><span class="p">:</span>
    <span class="n">retCode</span><span class="p">,</span> <span class="n">choice</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">list_menu</span><span class="p">(</span><span class="n">menuBuilder</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Which server?&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defEntry</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">retCode</span><span class="p">,</span> <span class="n">choice</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">list_menu</span><span class="p">(</span><span class="n">menuBuilder</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Which server?&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;800&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;350&#39;</span><span class="p">,</span><span class="n">default</span><span class="o">=</span><span class="n">defEntry</span><span class="p">)</span>

<span class="k">if</span> <span class="n">retCode</span><span class="p">:</span>
    <span class="c1">#message canceled, tortue ended</span>
    <span class="n">exit</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">selection</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
    <span class="n">server</span><span class="o">=</span><span class="n">selection</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">mjservers</span><span class="p">[</span>
            <span class="n">menuBuilder</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
        <span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="p">)</span>

<span class="n">menuBuilder</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">defEntry</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">menuEntry</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mjactions</span><span class="p">:</span>
  <span class="n">entry</span><span class="o">=</span><span class="n">menuEntry</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
  <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">defEntry</span><span class="o">=</span><span class="n">entry</span>
  <span class="n">menuBuilder</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

<span class="c1"># We use the boolean check to see which toolkit we&#39;re using</span>
<span class="c1"># the different toolkits receive extra parameters differently</span>
<span class="k">if</span> <span class="n">USING_QT</span><span class="p">:</span>
    <span class="n">retCode</span><span class="p">,</span> <span class="n">choice</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">list_menu</span><span class="p">(</span><span class="n">menuBuilder</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Which action?&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defEntry</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">retCode</span><span class="p">,</span> <span class="n">choice</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">list_menu</span><span class="p">(</span><span class="n">menuBuilder</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Which action?&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;800&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;350&#39;</span><span class="p">,</span><span class="n">default</span><span class="o">=</span><span class="n">defEntry</span><span class="p">)</span>

<span class="k">if</span> <span class="n">retCode</span><span class="p">:</span>
    <span class="n">exit</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">selection</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
    <span class="n">action</span><span class="o">=</span><span class="n">selection</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">mjactions</span><span class="p">[</span>
            <span class="n">menuBuilder</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
        <span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="p">)</span>

<span class="k">if</span> <span class="n">server</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mjservers</span><span class="p">:</span>
        <span class="n">thisbethat</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
            <span class="n">keyboard</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">thisbethat</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">action</span><span class="p">,</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">keyboard</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;&lt;enter&gt;&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">thisbethat</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">thisbethat</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">action</span><span class="p">,</span><span class="n">server</span><span class="p">))</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">send_key</span><span class="p">(</span><span class="s2">&quot;&lt;enter&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">AutoKey</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to Autokey</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Thomas Hess.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Scripts---contributed-1.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>